{
  "code": "import { ui } from \"../../ui/layaMaxUI\";\r\nvar Event = Laya.Event;\r\nimport base from \"../../base/base\";\r\nimport BullGameBet from \"./Event/BullGameBet\";\r\nimport BullGameDeal from \"./Event/BullGameDeal\";\r\nimport BullGameReady from \"./Event/BullGameReady\";\r\nimport BullGameNext from \"./Event/BullGameNext\";\r\nexport default class AthleticsBullGame extends ui.GameAthleticsBull.BullGameUI {\r\n    constructor() {\r\n        super();\r\n        new BullGameBet(\"AthleticsBet\", this);\r\n        new BullGameDeal(\"AthleticsDeal\", this);\r\n        new BullGameReady(\"AthleticsReady\", this);\r\n        new BullGameNext(\"AthleticsNextInning\", this);\r\n        base.netWork.addNetEvent(\"GameAction.Athletics.Join\", (data) => {\r\n            this.setUsers(data.UserList, data.CurrentUser);\r\n        });\r\n        base.netWork.addNetEvent(\"GameAction.Athletics.Ready\", (data) => {\r\n            this.userReady(data.GameUserList);\r\n        });\r\n        base.netWork.addNetEvent(\"GameAction.Athletics.Deal\", (data) => {\r\n            this.dealCard(data.GameUserList);\r\n        });\r\n        base.netWork.addNetEvent(\"GameAction.Athletics.Bet\", (data) => {\r\n            this.setBets(data.GameUserList);\r\n        });\r\n        base.netWork.addNetEvent(\"GameAction.Athletics.Than\", (data) => {\r\n            this.UsersThan(data.UserList);\r\n        });\r\n    }\r\n    onAwake() {\r\n        let userList = [];\r\n        for (let index = 0; index < this.users.numChildren; index++) {\r\n            userList.push(this.users.getChildAt(index));\r\n        }\r\n        this.deal_btn.on(Event.CLICK, this, () => {\r\n            this.deal_view.startDeal(userList, 30);\r\n        });\r\n        this.back_btn.on(Event.CLICK, this, () => {\r\n            base.sceneManager.changeScene(\"Hall\", new ui.APP_LoadingUI());\r\n        });\r\n        this.than_btn.on(Event.CLICK, this, () => {\r\n            for (let i = 0; i < userList.length; i++) {\r\n                userList[i].showProp([]);\r\n                userList[i].showText(\"6666\");\r\n            }\r\n        });\r\n        this.initUsers();\r\n        base.sendNet.sendJoinRoom({\r\n            \"Action\": \"AthleticsJoin\",\r\n            \"Data\": {\r\n                \"GameID\": \"20200509100000\"\r\n            }\r\n        });\r\n    }\r\n    setUsers(UserList, CurrentUser) {\r\n        for (let i = 0; i < this.users.numChildren; i++) {\r\n            let user = this.users.getChildAt(i);\r\n            user.visible = false;\r\n        }\r\n        for (let i = 0; i < UserList.length; i++) {\r\n            let u_data = UserList[i];\r\n            let user = this.users.getChildAt(i);\r\n            user.visible = true;\r\n            user.setMoney(u_data.UserMoney);\r\n            user.setUserName(u_data.UserName);\r\n        }\r\n    }\r\n    userReady(UserList) {\r\n        for (let i = 0; i < UserList.length; i++) {\r\n            let user = this.users.getChildAt(i);\r\n            let u_data = UserList[i];\r\n            user.showReady(u_data.IsReady);\r\n        }\r\n    }\r\n    hideAllReady() {\r\n        for (let i = 0; i < this.users.numChildren; i++) {\r\n            let user = this.users.getChildAt(i);\r\n            user.showReady(false);\r\n        }\r\n    }\r\n    initUsers() {\r\n        for (let i = 0; i < this.users.numChildren; i++) {\r\n            let user = this.users.getChildAt(i);\r\n            user.Init();\r\n        }\r\n    }\r\n    dealCard(GameUserList) {\r\n        let userList = [];\r\n        for (let index = 0; index < GameUserList.length; index++) {\r\n            userList.push(this.users.getChildAt(index));\r\n        }\r\n        this.deal_view.startDeal(userList, GameUserList.length * 5, GameUserList);\r\n    }\r\n    setBets(GameUserList) {\r\n        for (let i = 0; i < GameUserList.length; i++) {\r\n            let user = this.users.getChildAt(i);\r\n            let u_data = GameUserList[i];\r\n            user.showBet(u_data.Bet);\r\n        }\r\n    }\r\n    UsersThan(GameUserList) {\r\n        for (let i = 0; i < GameUserList.length; i++) {\r\n            let user = this.users.getChildAt(i);\r\n            let u_data = GameUserList[i];\r\n            user.showProp(u_data.PropList, u_data.PropType);\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "C:/Users/Administrator/Documents/QiPaiClient/src/ui/layaMaxUI.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/Application/GameCommon/widget/Deal.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/Application/GameCommon/widget/UserPropList.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/Application/GameCommon/widget/TransAni.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/base/base.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/Application/GameAthleticsBull/Event/BullGameJoin.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/Application/GameCommon/Model/UserInfoModel.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/Application/GameAthleticsBull/Event/BullGameBet.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/Application/GameAthleticsBull/Event/BullGameDeal.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/Application/GameAthleticsBull/Event/BullGameReady.ts",
    "C:/Users/Administrator/Documents/QiPaiClient/src/Application/GameAthleticsBull/Event/BullGameNext.ts"
  ]
}
